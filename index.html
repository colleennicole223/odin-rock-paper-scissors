<!DOCTYPE html>

<html lang="english">

  <head>
    <meta charset="UTF-8">
    <script src="script.js"></script>
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="style.css"> 
  </head>

  <body>
    <div class="mainSection">
      <div class="headerBlock">
        <h1>Interested in a round of Rock, Paper, Scissors?</h1>
        <h4>Select a weapon below and see if you can beat the computer</h4>
      </div>
      <div class="selectionBlock">
        <button id="rock">R</button>
        <button id="paper">P</button>
        <button id="scissors">S</button>
      </div>
    </div>
    <div class="statSection">
      <div class="statBlock">
        <h2>Total Rounds</h2>
        <div class="stat">
          <h4 id="totalRoundStat">3</h4>
        </div>
      </div>
      <div class="statBlock">
        <h2>Rounds Left</h2>
        <div class="stat">
          <h4 id="roundLeftStat">X</h4>
        </div>
      </div>
      <div class="statBlock">
        <h2>Human Win Info</h2>
        <div class="doubleStat">
          <div class="stat">
            <h4 id="humanWinStat">X</h4>
          </div>
          <div class="stat">
            <h4 id="humanPercentStat">X</h4>
          </div>
        </div>
        
      </div>
      <div class="statBlock">
        <h2>Computer Win Info</h2>
        <div class="doubleStat">
          <div class="stat">
            <h4 id="computerWinStat">X</h4>
          </div>
          <div class="stat">
            <h4 id="computerPercentStat">X</h4>
          </div>
        </div>
        </div>
      </div>
    </div>

    <script>

      const buttons = document.querySelectorAll("button");

      buttons.forEach(button =>{
        
        button.addEventListener("click", () => {
          // clear selections
            rock.style.backgroundColor = "rgb(238, 238, 238)";
            rock.style.textDecoration = "none";
            paper.style.backgroundColor = "rgb(238, 238, 238)";
            paper.style.textDecoration = "none";
            scissors.style.backgroundColor = "rgb(238, 238, 238)";
            scissors.style.textDecoration = "none";
          console.log("Player picks "+button.id);
          button.style.background ="lightBlue";
          playGame(button.id);
        })
      })

      function playGame(choice) {
        playerChoice = choice;
        computerChoice = computerSelection();

        if(playerChoice == computerChoice){
          console.log("Its a Tie");
          if(playerChoice=="rock"){
            rock.style.backgroundColor = "lightGrey";
            rock.style.textDecoration = "underline";
          }else if(playerChoice=="paper"){
            paper.style.backgroundColor = "lightGrey";
            paper.style.textDecoration = "underline";
          }else if(playerChoice=="scissors"){
            scissors.style.backgroundColor = "lightGrey";
            scissors.style.textDecoration = "underline";
          }
        }

        
      }

      function computerSelection(){
        var randomChoice = Math.floor(Math.random()*3); //where Math.floor rounds to the nearest Int
        switch(randomChoice){
          case 0:
            rock.style.background ="pink";
            console.log("Computer picks rock")
            return "rock";
          case 1: 
            paper.style.background ="pink";
            console.log("Computer picks paper")
            return "paper";
          case 2: 
            scissors.style.background ="pink";
            console.log("Computer picks scissors")
            return "scissors";
        }
      }

    </script>

  </body>
</html>